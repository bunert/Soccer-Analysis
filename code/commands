################################################
# Detectron:
################################################

# out of memory:
python2 tools/infer_simple.py \
    --cfg configs/12_2017_baselines/e2e_mask_rcnn_R-101-FPN_2x.yaml \
    --output-dir ~/Data/camera0/detectron \
    --image-ext jpg \
    --wts https://dl.fbaipublicfiles.com/detectron/35861858/12_2017_baselines/e2e_mask_rcnn_R-101-FPN_2x.yaml.02_32_51.SgT4y1cO/output/train/coco_2014_train:coco_2014_valminusminival/generalized_rcnn/model_final.pkl \
    ~/Data/camera0/images/
          https://dl.fbaipublicfiles.com/detectron/35861858/12_2017_baselines/e2e_mask_rcnn_R-101-FPN_2x.yaml.02_32_51.SgT4y1cO/output/train/coco_2014_train3Acoco_2014_valminusminival/generalized_rcnn/model_final.pkl
          https://dl.fbaipublicfiles.com/detectron/35861858/12_2017_baselines/e2e_mask_rcnn_R-101-FPN_2x.yaml.02_32_51.SgT4y1cO/output/train/coco_2014_train:3Acoco_2014_valminusminival/generalized_rcnn/model_final.pkl

# for smaller memory (R-50-FPN model) working:
python2 tools/infer_simple.py \
  --cfg configs/12_2017_baselines/e2e_faster_rcnn_R-50-FPN_2x.yaml \
  --output-dir ~/Data/camera0/detectron \
  --image-ext jpg \
  --wts https://dl.fbaipublicfiles.com/detectron/35857389/12_2017_baselines/e2e_faster_rcnn_R-50-FPN_2x.yaml.01_37_22.KSeq0b5q/output/train/coco_2014_train%3Acoco_2014_valminusminival/generalized_rcnn/model_final.pkl \
  ~/Data/camera0/images/

# Detectron (faster RCNN) -> no mask output
python2 tools/infer_simple.py \
  --cfg configs/12_2017_baselines/e2e_faster_rcnn_R-50-FPN_2x.yaml \
  --output-dir ~/Data/camera0/detectron \
  --image-ext jpg \
  --wts https://dl.fbaipublicfiles.com/detectron/35857389/12_2017_baselines/e2e_faster_rcnn_R-50-FPN_2x.yaml.01_37_22.KSeq0b5q/output/train/coco_2014_train%3Acoco_2014_valminusminival/generalized_rcnn/model_final.pkl \
  ~/Data/camera0/images/

################################################
# Workflow:
################################################

# Detectron (mask RCNN)
cd installations/Detectron
python2 tools/infer_simple.py \
  --cfg configs/12_2017_baselines/e2e_mask_rcnn_R-50-FPN_2x.yaml \
  --output-dir ~/Data/camera0/detectron \
  --image-ext jpg \
  --wts https://dl.fbaipublicfiles.com/detectron/35859007/12_2017_baselines/e2e_mask_rcnn_R-50-FPN_2x.yaml.01_49_07.By8nQcCH/output/train/coco_2014_train%3Acoco_2014_valminusminival/generalized_rcnn/model_final.pkl \
  ~/Data/camera0/images/


# calibrate camera
cd ~/Studium/BachelorThesis/code
python3 calibrate_video.py --cameras 1#--path_to_data $DATADIR


################################################
# remote access:
################################################

# VNC remote access port 200 or 5900
run on tower:
/usr/lib/vino/vino-server

# ssh:
ssh bunert@178.195.249.45 -p 200

# remmina:
test2

# scp (copy files)
scp -P 200 bunert@178.195.249.45:/home/bunert/Data/camera0/detectron/* /home/bunert/Downloads/detectron
